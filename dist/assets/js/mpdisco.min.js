function Dancefloor(a){$.getJSON("mp.json").done(function(b){a(b)})}function Tile(a){this.interval=null,this.data=Dancefloor.data,this.speed=a,this.init=function(){this.newMP()}}function generate(a){setTimeout(function(){var b=new Tile;b.init(),--a&&generate(a)},10)}Tile.prototype.load_json=function(a){var b=new XMLHttpRequest;b.open("GET","mp.json",!0),b.onreadystatechange=function(){4===b.readyState&&200===b.status&&a(b.responseText)},b.send(null)},Tile.prototype.newMP=function(){var a,b=Dancefloor.data,c=document.createElement("div");document.getElementById("container").appendChild(c),this.interval=setTimeout(function d(){var e=Math.floor(Math.random()*b.length);a=b[e].party,c.className="tile "+a.replace("Ã©","e"),c.className="tile "+a.replace(/[\s+\/]/g,"-").toLowerCase(),setTimeout(d,500)},1e3)},Tile.prototype.shuffle_tiles=function(a){},Tile.prototype.stop=function(){clearInterval(this.interval)};var Dancefloor=new Dancefloor(function(a){Dancefloor.data=a,generate(650)});